{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
  <meta name="description" content="Confirm sign out from VisMatrix.Space">
  <meta name="theme-color" content="#1d4ed8">
  <title>Sign Out Confirmation - VisMatrix.Space</title>

  <!-- App Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'branding/vismatrixicon.png' %}">

  <!-- Tailwind + DaisyUI + Bootstrap Icons -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
    /* Logout page specific styles - matches base.html design system */
    .logout-hero {
      background: linear-gradient(135deg, rgb(248 250 252 / 0.9) 0%, rgb(241 245 249 / 0.7) 100%);
      backdrop-filter: blur(20px);
    }
    
    .logout-card {
      background: rgb(255 255 255 / 0.98);
      border: 1px solid rgb(226 232 240 / 0.8);
      box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.1);
    }
    
    .logout-header {
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    }
    
    /* Animations matching base.html */
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
    }
    
    /* Focus ring matching design system */
    :focus-visible {
      box-shadow: 0 0 0 3px rgb(29 78 216 / 0.25);
      border-radius: 12px;
    }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4 lg:p-8 logout-hero">
  

  <main id="main-logout" class="w-full max-w-sm lg:max-w-md logout-card rounded-3xl overflow-hidden animate-slideUp" role="main" aria-labelledby="logout-title">
    
    <!-- Header -->
    <div class="logout-header text-white p-8 lg:p-10 text-center relative overflow-hidden">
      <div class="w-20 h-20 lg:w-24 lg:h-24 mx-auto mb-8 bg-white/20 rounded-2xl flex items-center justify-center shadow-2xl ring-2 ring-white/30">
        <i class="bi bi-box-arrow-right text-3xl lg:text-4xl" aria-hidden="true"></i>
      </div>
      <h1 id="logout-title" class="text-3xl lg:text-4xl font-black tracking-tight mb-4">
        Sign Out?
      </h1>
      <p class="text-xl font-semibold text-slate-200 mb-6 opacity-90 leading-relaxed">
        Confirm you want to sign out of VisMatrix.Space
      </p>
    </div>

    <div class="p-8 lg:p-10 space-y-6">
      <!-- Reassurance message -->
      <div class="alert alert-success shadow-lg border-l-4">
        <i class="bi bi-shield-check flex-shrink-0"></i>
        <div>
          <h3 class="font-bold text-lg">Your progress is safe</h3>
          <div class="text-sm">All data automatically saved and ready when you return</div>
        </div>
      </div>

      <!-- Action buttons -->
      <div class="space-y-3">
        <form method="post" class="w-full">
          {% csrf_token %}
          <button type="submit" class="btn btn-error w-full h-14 text-lg font-bold shadow-lg lg:btn-lg gap-3">
            <i class="bi bi-check-circle-fill" aria-hidden="true"></i>
            <span>Yes, Sign Me Out</span>
          </button>
        </form>

        <a href="{% url 'dashboard' %}" class="btn btn-outline w-full h-14 text-lg font-bold shadow-sm lg:btn-lg gap-3">
          <i class="bi bi-arrow-left" aria-hidden="true"></i>
          <span>Stay Signed In</span>
        </a>
      </div>

      <!-- Help text -->
      <div class="text-center pt-6 border-t border-slate-200">
        <p class="text-sm text-slate-600">
          You'll need to sign in again to access your progress
        </p>
      </div>
    </div>
  </main>

  <script>
    // Enhanced accessibility and UX
    document.addEventListener('DOMContentLoaded', () => {
      // Auto-focus logout button
      const logoutBtn = document.querySelector('button[type="submit"]');
      if (logoutBtn) logoutBtn.focus();
      
      // Escape key cancels logout
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          window.location.href = "{% url 'dashboard' %}";
        }
      });
      
      // Prevent double-submit
      let submitCount = 0;
      const form = document.querySelector('form');
      if (form) {
        form.addEventListener('submit', () => {
          submitCount++;
          if (submitCount > 1) return false;
        });
      }
    });
  </script>
</body>
</html>
