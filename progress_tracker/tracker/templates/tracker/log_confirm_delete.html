{% extends 'tracker/base.html' %}

{% block title %}Delete Log - VisMatrix.Space{% endblock %}

{% block content %}
<!-- Theme-aware page wrapper (no fixed light gradient) -->
<div class="min-h-screen pb-24 md:pb-8 px-3 sm:px-4 lg:px-8 flex items-center justify-center"
     style="background: var(--bg); color: var(--text);">

  <div class="w-full max-w-md">
    <div class="rounded-2xl md:rounded-3xl p-6 md:p-8 border"
         style="background: var(--surface); border-color: var(--border); box-shadow: var(--shadow);">

      <div class="text-center mb-6">
        <div class="inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full mb-4"
             style="background: rgb(239 68 68 / 0.12);">
          <i class="bi bi-exclamation-triangle text-2xl md:text-3xl"
             aria-hidden="true"
             style="color: var(--error);"></i>
        </div>

        <h2 class="text-lg md:text-2xl font-black mb-2" style="color: var(--text);">
          Delete Log
        </h2>
        <p class="text-sm md:text-base" style="color: var(--muted);">
          This action cannot be undone.
        </p>
      </div>

      <div class="mb-6">
        <div class="rounded-lg p-4 text-sm md:text-base border"
             style="background: rgb(239 68 68 / 0.10); border-color: rgb(239 68 68 / 0.22); color: var(--text);">
          <p class="font-semibold mb-2">Log Details:</p>
          <ul class="space-y-1 text-xs md:text-sm">
            <li><span style="color: var(--muted);">Activity:</span> {{ object.activity|truncatewords:6 }}</li>
            {% if object.notes %}<li><span style="color: var(--muted);">Notes:</span> {{ object.notes|truncatewords:4 }}</li>{% endif %}
            <li><span style="color: var(--muted);">Duration:</span> {{ object.duration }} minutes</li>
            {% if object.category %}<li><span style="color: var(--muted);">Category:</span> {{ object.category.name }}</li>{% endif %}
            <li><span style="color: var(--muted);">Date:</span> {{ object.date|date:"M d, Y" }}</li>
          </ul>
        </div>
      </div>

      <form method="POST" class="space-y-4">
        {% csrf_token %}

        <p class="text-sm md:text-base p-3 md:p-4 rounded-lg text-center font-semibold"
           style="background: rgb(239 68 68 / 0.10); color: var(--text); border: 1px solid rgb(239 68 68 / 0.18);">
          Are you sure you want to permanently delete this log?
        </p>

        <div class="flex gap-3 flex-col sm:flex-row">
          <a href="{{ request.META.HTTP_REFERER|default:'/' }}"
             class="btn btn-outline btn-sm md:btn-md flex-1 order-2 sm:order-1"
             style="border-color: var(--border); color: var(--text); background: transparent;">
            <i class="bi bi-x-circle" aria-hidden="true"></i>
            <span class="hidden sm:inline">Cancel</span>
          </a>

          <button type="submit" class="btn btn-error btn-sm md:btn-md flex-1 order-1 sm:order-2">
            <i class="bi bi-trash2-fill" aria-hidden="true"></i>
            <span class="hidden sm:inline">Delete Log</span>
          </button>
        </div>
      </form>

      <div class="mt-6 pt-6" style="border-top: 1px solid var(--border);">
        <p class="text-xs text-center" style="color: var(--muted);">
          ðŸ’¡ <strong>Tip:</strong> You can also edit the log if you made a mistake instead of deleting it.
        </p>
      </div>

    </div>
  </div>

  <!-- NOTE: Removed page-level mobile bottom navigation because base.html already provides one.
       Keeping both causes duplicate nav bars on mobile. -->

</div>
{% endblock %}
