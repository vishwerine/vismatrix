{% extends 'tracker/base.html' %}

{% block title %}Privacy Policy - VisMatrix{% endblock %}

{% block content %}
<main class="max-w-4xl mx-auto space-y-6">
  
  <!-- Header -->
  <header class="card border border-base-200 bg-base-100 animate-slideUp" role="banner">
    <div class="card-body p-5 sm:p-6">
      <div class="flex flex-col gap-4">
        <div class="min-w-0">
          <h1 class="text-2xl sm:text-3xl font-extrabold text-base-content flex items-center gap-2">
            <i class="bi bi-shield-check text-primary text-xl sm:text-2xl" aria-hidden="true"></i>
            <span class="gradient-text">Privacy Policy</span>
          </h1>
          <p class="text-sm text-base-content/70 mt-1">
            Last updated: December 27, 2025
          </p>
        </div>
      </div>
    </div>
  </header>

  <!-- Introduction -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <p class="text-base-content/80 leading-relaxed">
        At VisMatrix, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, 
        and safeguard your information when you use our progress tracking application. Please read this privacy 
        policy carefully. If you do not agree with the terms of this privacy policy, please do not access the application.
      </p>
      <p class="text-base-content/70 text-sm mt-3">
        <i class="bi bi-file-text"></i> Also see our <a href="{% url 'terms_of_service' %}" class="link link-primary">Terms of Service</a> 
        for information about your rights and obligations when using VisMatrix.
      </p>
    </div>
  </div>

  <!-- Information We Collect -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-info-circle text-primary" aria-hidden="true"></i>
        1. Information We Collect
      </h2>
      
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-base-content mb-2">1.1 Personal Information</h3>
          <p class="text-base-content/80 mb-2">When you register for VisMatrix, we collect:</p>
          <ul class="list-disc list-inside space-y-1 text-base-content/80 ml-4">
            <li>Username</li>
            <li>Email address</li>
            <li>Password (encrypted)</li>
            <li>Profile information (if provided)</li>
          </ul>
        </div>

        <div>
          <h3 class="font-semibold text-base-content mb-2">1.2 Activity Data</h3>
          <p class="text-base-content/80 mb-2">We collect information you provide when using the app:</p>
          <ul class="list-disc list-inside space-y-1 text-base-content/80 ml-4">
            <li>Tasks and their details (title, description, status, priority)</li>
            <li>Daily activity logs and time tracking</li>
            <li>Categories you create or use</li>
            <li>Plans and goals you set</li>
            <li>Messages sent through our messaging system</li>
          </ul>
        </div>

        <div>
          <h3 class="font-semibold text-base-content mb-2">1.3 Google Calendar Integration</h3>
          <p class="text-base-content/80 mb-2">If you choose to connect your Google Calendar:</p>
          <ul class="list-disc list-inside space-y-1 text-base-content/80 ml-4">
            <li>OAuth tokens for accessing your Google Calendar (encrypted)</li>
            <li>Calendar events from your primary calendar</li>
            <li>Event details (title, time, duration)</li>
          </ul>
          <p class="text-base-content/70 text-sm mt-2">
            <i class="bi bi-lock-fill"></i> We only request read-only access to your calendar and never modify or delete your events.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-base-content mb-2">1.4 Usage Information</h3>
          <p class="text-base-content/80 mb-2">We automatically collect certain information:</p>
          <ul class="list-disc list-inside space-y-1 text-base-content/80 ml-4">
            <li>Log data (IP address, browser type, access times)</li>
            <li>Device information</li>
            <li>Usage patterns and interactions with the app</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- How We Use Your Information -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-gear text-primary" aria-hidden="true"></i>
        2. How We Use Your Information
      </h2>
      
      <p class="text-base-content/80 mb-3">We use the information we collect to:</p>
      <ul class="list-disc list-inside space-y-2 text-base-content/80 ml-4">
        <li>Provide, operate, and maintain our application</li>
        <li>Improve and personalize your experience</li>
        <li>Process and complete your requests</li>
        <li>Send you updates and notifications (if enabled)</li>
        <li>Sync your Google Calendar events to activity logs (if connected)</li>
        <li>Enable social features (friend connections, activity sharing)</li>
        <li>Analyze usage patterns to improve the application</li>
        <li>Detect and prevent fraud or abuse</li>
        <li>Comply with legal obligations</li>
      </ul>
    </div>
  </div>

  <!-- Information Sharing -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-people text-primary" aria-hidden="true"></i>
        3. How We Share Your Information
      </h2>
      
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-base-content mb-2">3.1 With Friends</h3>
          <p class="text-base-content/80">
            When you accept a friend request, your friends can see:
          </p>
          <ul class="list-disc list-inside space-y-1 text-base-content/80 ml-4 mt-2">
            <li>Your public activity logs (if you choose to share them)</li>
            <li>Your progress statistics and analytics (if sharing is enabled)</li>
            <li>Plans you've marked as public</li>
          </ul>
          <p class="text-base-content/70 text-sm mt-2">
            <i class="bi bi-info-circle"></i> You control what information is visible to friends through your privacy settings.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-base-content mb-2">3.2 Third-Party Services</h3>
          <p class="text-base-content/80 mb-2">We use the following third-party services:</p>
          <ul class="list-disc list-inside space-y-1 text-base-content/80 ml-4">
            <li><strong>Google Calendar API:</strong> To sync your calendar events (only if you authorize)</li>
            <li><strong>Google OAuth:</strong> For secure authentication (optional login method)</li>
          </ul>
          <p class="text-base-content/70 text-sm mt-2">
            These services have their own privacy policies which we encourage you to review.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-base-content mb-2">3.3 Legal Requirements</h3>
          <p class="text-base-content/80">
            We may disclose your information if required to do so by law or in response to valid requests 
            by public authorities (e.g., court orders, subpoenas).
          </p>
        </div>

        <div class="alert alert-info">
          <i class="bi bi-shield-check text-xl"></i>
          <div>
            <h3 class="font-bold">We Never Sell Your Data</h3>
            <div class="text-sm">
              VisMatrix does not sell, trade, or rent your personal information to third parties for marketing purposes.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Data Security -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-lock text-primary" aria-hidden="true"></i>
        4. Data Security
      </h2>
      
      <p class="text-base-content/80 mb-3">We implement appropriate security measures to protect your information:</p>
      <ul class="list-disc list-inside space-y-2 text-base-content/80 ml-4">
        <li>Passwords are encrypted using industry-standard hashing algorithms</li>
        <li>OAuth tokens are stored securely and encrypted</li>
        <li>HTTPS encryption for all data transmission in production</li>
        <li>Regular security updates and monitoring</li>
        <li>Access controls to limit who can view your data</li>
      </ul>
      
      <div class="alert alert-warning mt-4">
        <i class="bi bi-exclamation-triangle"></i>
        <div class="text-sm">
          While we strive to protect your information, no method of transmission over the Internet is 100% secure. 
          We cannot guarantee absolute security of your data.
        </div>
      </div>
    </div>
  </div>

  <!-- Data Retention -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-clock-history text-primary" aria-hidden="true"></i>
        5. Data Retention
      </h2>
      
      <p class="text-base-content/80 mb-3">
        We retain your information for as long as your account is active or as needed to provide you services. You can request deletion of your account and associated data at any time.
      </p>
      
      <p class="text-base-content/80">
        When you disconnect your Google Calendar integration, we immediately delete your OAuth tokens. Previously synced calendar events remain as activity logs unless you manually delete them.
      </p>
    </div>
  </div>

  <!-- Your Rights -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-person-check text-primary" aria-hidden="true"></i>
        6. Your Rights and Choices
      </h2>
      
      <p class="text-base-content/80 mb-3">You have the right to:</p>
      <ul class="list-disc list-inside space-y-2 text-base-content/80 ml-4">
        <li><strong>Access:</strong> View and download your personal data</li>
        <li><strong>Correction:</strong> Update or correct your information</li>
        <li><strong>Deletion:</strong> Request deletion of your account and data</li>
        <li><strong>Data Portability:</strong> Export your data in a machine-readable format</li>
        <li><strong>Opt-out:</strong> Unsubscribe from notifications or disconnect integrations</li>
        <li><strong>Privacy Controls:</strong> Manage what information friends can see</li>
      </ul>
      
      <div class="mt-4 p-4 bg-base-200 rounded-lg">
        <p class="text-base-content/80 text-sm">
          <i class="bi bi-envelope"></i> To exercise these rights, please contact us at: 
          <a href="mailto:privacy@vismatrix.space" class="link link-primary">privacy@vismatrix.space</a>
        </p>
      </div>
    </div>
  </div>

  <!-- Google Calendar Specific -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-google text-primary" aria-hidden="true"></i>
        7. Google Calendar Integration
      </h2>
      
      <p class="text-base-content/80 mb-3">
        VisMatrix's use of information received from Google APIs adheres to the 
        <a href="https://developers.google.com/terms/api-services-user-data-policy" target="_blank" class="link link-primary">
          Google API Services User Data Policy
        </a>, including the Limited Use requirements.
      </p>
      
      <div class="space-y-2 text-base-content/80">
        <p><strong>What we access:</strong> Read-only access to your Google Calendar events</p>
        <p><strong>What we do:</strong> Sync calendar events to create activity logs in VisMatrix</p>
        <p><strong>What we don't do:</strong> We never modify, delete, or share your Google Calendar data with third parties</p>
        <p><strong>How to revoke:</strong> You can disconnect at any time from your 
          <a href="{% url 'calendar_settings' %}" class="link link-primary">Calendar Settings</a> page or through your 
          <a href="https://myaccount.google.com/permissions" target="_blank" class="link link-primary">Google Account permissions</a>
        </p>
      </div>
    </div>
  </div>

  <!-- Children's Privacy -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-person-x text-primary" aria-hidden="true"></i>
        8. Children's Privacy
      </h2>
      
      <p class="text-base-content/80">
        VisMatrix is not intended for children under the age of 13. We do not knowingly collect personal 
        information from children under 13. If you are a parent or guardian and believe your child has 
        provided us with personal information, please contact us so we can delete it.
      </p>
    </div>
  </div>

  <!-- Changes to Policy -->
  <div class="card border border-base-200 bg-base-100 animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-arrow-repeat text-primary" aria-hidden="true"></i>
        9. Changes to This Privacy Policy
      </h2>
      
      <p class="text-base-content/80">
        We may update this Privacy Policy from time to time. We will notify you of any changes by posting 
        the new Privacy Policy on this page and updating the "Last updated" date. You are advised to review 
        this Privacy Policy periodically for any changes.
      </p>
    </div>
  </div>

  <!-- Contact -->
  <div class="card border border-base-200 bg-gradient-to-br from-primary/5 to-transparent animate-fadeIn">
    <div class="card-body p-5 sm:p-6">
      <h2 class="text-xl font-bold text-base-content flex items-center gap-2 mb-4">
        <i class="bi bi-envelope text-primary" aria-hidden="true"></i>
        10. Contact Us
      </h2>
      
      <p class="text-base-content/80 mb-4">
        If you have questions or concerns about this Privacy Policy or our data practices, please contact us:
      </p>
      
      <div class="space-y-2 text-base-content/80">
        <p><i class="bi bi-envelope-fill text-primary"></i> Email: <a href="mailto:privacy@vismatrix.space" class="link link-primary">privacy@vismatrix.space</a></p>
        <p><i class="bi bi-globe text-primary"></i> Website: <a href="https://vismatrix.space" target="_blank" class="link link-primary">vismatrix.space</a></p>
      </div>
    </div>
  </div>

  <!-- Back Button -->
  <div class="flex justify-center pb-6">
    <a href="{% url 'dashboard' %}" class="btn btn-outline gap-2">
      <i class="bi bi-arrow-left"></i>
      Back to Dashboard
    </a>
  </div>

</main>

<style>
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-slideUp {
  animation: slideUp 0.5s ease-out;
}

.animate-fadeIn {
  animation: fadeIn 0.6s ease-out;
  animation-fill-mode: both;
}

.animate-fadeIn:nth-child(2) { animation-delay: 0.1s; }
.animate-fadeIn:nth-child(3) { animation-delay: 0.15s; }
.animate-fadeIn:nth-child(4) { animation-delay: 0.2s; }
.animate-fadeIn:nth-child(5) { animation-delay: 0.25s; }
.animate-fadeIn:nth-child(6) { animation-delay: 0.3s; }
.animate-fadeIn:nth-child(7) { animation-delay: 0.35s; }
.animate-fadeIn:nth-child(8) { animation-delay: 0.4s; }
.animate-fadeIn:nth-child(9) { animation-delay: 0.45s; }
.animate-fadeIn:nth-child(10) { animation-delay: 0.5s; }
.animate-fadeIn:nth-child(11) { animation-delay: 0.55s; }

.gradient-text {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
</style>
{% endblock %}
