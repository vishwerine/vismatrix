{% extends 'tracker/base.html' %}

{% block title %}Delete Plan - VisMatrix.Space{% endblock %}

{% block content %}

<div class="container mx-auto px-4 py-6 max-w-2xl">
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title text-2xl text-error mb-4">
        <i class="bi bi-exclamation-triangle mr-2"></i>Delete Plan
      </h2>

      <div class="alert alert-error">
        <i class="bi bi-exclamation-triangle"></i>
        <div>
          <p class="font-semibold">Are you sure you want to delete this plan?</p>
          <p class="text-sm">This will remove all task associations from this plan. The tasks themselves will not be deleted.</p>
        </div>
      </div>

      <div class="my-4">
        <p class="text-lg font-semibold">{{ plan.title }}</p>
        {% if plan.description %}
          <p class="text-sm text-base-content/70 mt-2">{{ plan.description }}</p>
        {% endif %}
        <p class="text-sm text-base-content/60 mt-2">
          <i class="bi bi-diagram-3 mr-1"></i>{{ plan.nodes.count }} task(s) in this plan
        </p>
      </div>

      <form method="post">
        {% csrf_token %}
        <div class="card-actions justify-end gap-2 mt-6">
          <a href="{% url 'plan_detail' plan.pk %}" 
             class="btn btn-ghost">
            Cancel
          </a>
          <button type="submit" class="btn btn-error">
            <i class="bi bi-trash mr-2"></i>Delete Plan
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}
