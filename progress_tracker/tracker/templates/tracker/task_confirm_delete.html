{% extends 'tracker/base.html' %}

{% block title %}Delete Task - Progress Tracker{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white shadow-2xl border border-slate-200 rounded-4xl p-12">
  <!-- Warning Header -->
  <div class="text-center mb-12">
    <div class="w-24 h-24 mx-auto mb-8 bg-red-100 rounded-3xl flex items-center justify-center shadow-xl border-4 border-red-200">
      <i class="bi bi-exclamation-triangle-fill text-red-600 text-4xl"></i>
    </div>
    <h1 class="text-5xl font-black text-slate-900 mb-4">Confirm Task Deletion</h1>
    <p class="text-2xl text-slate-600 max-w-lg mx-auto leading-relaxed">
      This action cannot be undone. Are you absolutely sure?
    </p>
  </div>

  <!-- Task Details Card -->
  <div class="bg-gradient-to-r from-red-50 to-orange-50 border-4 border-red-200 rounded-3xl p-10 mb-12 shadow-2xl hover:shadow-3xl transition-all duration-300 group">
    <div class="flex items-start gap-6">
      <div class="w-20 h-20 bg-gradient-to-br from-red-500 to-orange-600 rounded-3xl flex items-center justify-center text-white shadow-2xl flex-shrink-0 mt-1 group-hover:scale-110 transition-transform">
        <i class="bi bi-task text-3xl"></i>
      </div>
      <div class="flex-1 min-w-0">
        <h2 class="text-4xl font-black text-red-900 mb-4 group-hover:text-red-800 transition-colors line-clamp-2">
          {{ task.title }}
        </h2>
        {% if task.description %}
        <p class="text-xl text-red-800 leading-relaxed mb-6">{{ task.description|truncatewords:20 }}</p>
        {% endif %}
        <div class="grid grid-cols-2 gap-6 text-lg">
          {% if task.category %}
          <div class="inline-flex items-center gap-3 px-6 py-3 bg-white text-slate-900 rounded-2xl shadow-lg border border-slate-200 font-semibold">
            <div class="w-6 h-6 rounded-full ring-2 ring-white/50 shadow-sm flex-shrink-0" style="background-color: {{ task.category.color }}"></div>
            <span>{{ task.category.name }}</span>
          </div>
          {% endif %}
          {% if task.due_date %}
          <div class="inline-flex items-center gap-2 px-6 py-3 bg-white text-slate-900 rounded-2xl shadow-lg border border-slate-200 font-semibold">
            <i class="bi bi-calendar-check text-orange-500"></i>
            <span>Due {{ task.due_date|date:"M d, Y" }}</span>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <!-- Impact Warning -->
  <div class="bg-gradient-to-r from-yellow-50 to-orange-50 border-4 border-yellow-200 rounded-3xl p-10 mb-12 shadow-xl">
    <div class="flex items-start gap-6">
      <div class="w-16 h-16 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-2xl flex items-center justify-center text-white shadow-xl flex-shrink-0 mt-1">
        <i class="bi bi-exclamation-octagon text-2xl"></i>
      </div>
      <div>
        <h3 class="text-3xl font-black text-yellow-900 mb-4">⚠️ Permanent Action</h3>
        <ul class="text-xl text-yellow-900 space-y-3 list-disc pl-8 leading-relaxed">
          <li>This task will be <strong>permanently deleted</strong> from your records</li>
          <li>Your progress statistics will be updated accordingly</li>
          <li>Any associated daily logs will remain intact</li>
          <li>No data recovery is available after deletion</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="flex flex-col lg:flex-row gap-6 pt-12 border-t-4 border-slate-200">
    <form method="post" class="flex-1">
      {% csrf_token %}
      <button type="submit"
              class="w-full inline-flex items-center justify-center gap-4 bg-gradient-to-r from-red-600 to-red-700 text-white px-12 py-8 rounded-3xl text-2xl font-black shadow-3xl hover:shadow-4xl hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-4 focus:ring-red-500/50 focus:ring-offset-2 focus:ring-offset-white transform hover:-translate-y-2 transition-all duration-400 active:scale-95">
        <i class="bi bi-trash3-fill text-3xl"></i>
        <span>Yes, Permanently Delete</span>
      </button>
    </form>
    
    <a href="{% url 'task_list' %}"
       class="flex-1 inline-flex items-center justify-center gap-4 bg-gradient-to-r from-slate-100 to-slate-200 text-slate-900 px-12 py-8 rounded-3xl text-2xl font-black border-4 border-slate-300 hover:border-slate-400 hover:shadow-3xl hover:from-slate-200 hover:to-slate-300 focus:outline-none focus:ring-4 focus:ring-slate-500/50 focus:ring-offset-2 focus:ring-offset-white transform hover:-translate-y-2 transition-all duration-400 active:scale-95">
      <i class="bi bi-arrow-left text-3xl"></i>
      <span>Cancel & Return</span>
    </a>
  </div>

  <!-- Safety Note -->
  <div class="mt-12 pt-10 border-t-2 border-slate-100 text-center">
    <p class="text-lg text-slate-600">
      <i class="bi bi-shield-check text-emerald-500 text-2xl mr-3 align-middle"></i>
      <span>Deleting tasks only affects your task list. All logged time and progress data is preserved.</span>
    </p>
  </div>
</div>
{% endblock %}
