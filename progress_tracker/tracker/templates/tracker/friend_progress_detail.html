{% extends 'tracker/base.html' %}

{% block title %}{{ friend.username }}'s Progress - Progress Tracker{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white dark:bg-slate-900 shadow-sm border border-slate-100 dark:border-slate-800 rounded-xl p-6">
  <h1 class="text-3xl font-bold text-slate-900 dark:text-slate-50 mb-6">Progress of {{ friend.username }}</h1>

  <section class="mb-8">
    <h3 class="text-xl font-semibold mb-4 text-slate-900 dark:text-slate-50">Completed Tasks</h3>
    <ul class="divide-y divide-gray-200 dark:divide-gray-700">
      {% for task in tasks %}
      <li class="py-3">
        <strong class="text-slate-900 dark:text-slate-50">{{ task.title }}</strong> — 
        <span class="text-gray-600 dark:text-gray-400">completed at {{ task.completed_at|date:"M d, Y" }}</span>
      </li>
      {% empty %}
      <li class="py-3 text-gray-500 dark:text-gray-400">No completed tasks.</li>
      {% endfor %}
    </ul>
  </section>

  <section>
    <h3 class="text-xl font-semibold mb-4 text-slate-900 dark:text-slate-50">Daily Logs</h3>
    <ul class="divide-y divide-gray-200 dark:divide-gray-700">
      {% for log in logs %}
      <li class="py-3">
        <strong class="text-slate-900 dark:text-slate-50">{{ log.date|date:"M d, Y" }}</strong>: 
        <span class="text-gray-700 dark:text-gray-300">{{ log.activity }}</span> — 
        <span class="text-gray-600 dark:text-gray-400">{{ log.duration }} minutes</span>
      </li>
      {% empty %}
      <li class="py-3 text-gray-500 dark:text-gray-400">No daily logs.</li>
      {% endfor %}
    </ul>
  </section>

  <div class="mt-6">
    <a href="{% url 'friend_progress_list' %}" 
       class="inline-block rounded-lg bg-gray-600 px-6 py-2 text-white font-semibold hover:bg-gray-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500">
      Back to Friends Progress
    </a>
  </div>
</div>
{% endblock %}
