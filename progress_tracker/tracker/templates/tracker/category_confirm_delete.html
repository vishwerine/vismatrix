{% extends 'tracker/base.html' %}

{% block title %}Delete Category - Progress Tracker{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto bg-white dark:bg-slate-900 shadow-sm border border-slate-100 dark:border-slate-800 rounded-xl p-6">
  <h1 class="text-2xl font-semibold text-slate-900 dark:text-slate-50 mb-6">Confirm Delete</h1>

  <div class="bg-red-50 border-l-4 border-red-600 p-4 rounded-md mb-6">
    <p class="text-red-700 text-sm leading-relaxed">
      <strong>⚠️ Warning:</strong> Are you sure you want to delete the category
      <strong style="color: {{ category.color }};">{{ category.name }}</strong>?
    </p>
  </div>

  <div class="bg-gray-100 dark:bg-slate-800 p-4 rounded-md mb-6">
    <p class="font-semibold text-slate-900 dark:text-slate-50 mb-2">This category is used in:</p>
    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1 ml-4">
      <li>{{ category.task_set.count }} task(s)</li>
      <li>{{ category.dailylog_set.count }} daily log(s)</li>
    </ul>
    <p class="mt-2 text-red-600 text-sm font-semibold">
      <strong>Note:</strong> Deleting this category will remove it from all associated tasks and logs.
    </p>
  </div>

  <form method="post" class="flex gap-4">
    {% csrf_token %}
    <button type="submit"
            class="flex-1 rounded-lg bg-red-600 px-5 py-2 text-white font-semibold hover:bg-red-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500">
      Yes, Delete Category
    </button>
    <a href="{% url 'category_list' %}"
       class="flex-1 rounded-lg bg-gray-500 px-5 py-2 text-white font-semibold hover:bg-gray-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 text-center">
      Cancel
    </a>
  </form>
</div>
{% endblock %}
